        ORG 00H
        LJMP MAIN
        ORG 30H
MAIN:   MOV P1,#00H
        MOV DPTR,#200H
		
	SETB P0.0 	
	SETB P0.1
	
	

LOOP: 
   JB P0.0, NOT_PRESSED
   ACALL COUNT60 
   AJMP LOOP 
NOT_PRESSED:    
	ACALL COUNT30
	AJMP LOOP
	



COUNT30: 

		C301:     MOV P1,#0AH
			MOV P2,#0A4H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0F9H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			   MOV P2,#40H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
		  

	C302:     MOV P1,#21H
			MOV P2,#0A4H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0F9H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			   MOV P2,#40H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
	
			LJMP MAIN
		


COUNT60:

	C1:     MOV P1,#0AH
			MOV P2,#92H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			  
			 MOV P2,#99H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0B0H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0A4H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0F9H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			   MOV P2,#40H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
		  

	C2:     MOV P1,#21H
				  MOV P2,#92H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			  
			 MOV P2,#99H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0B0H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0A4H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			MOV P2,#0F9H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			  
			  
			   MOV P2,#40H
			
			 MOV P3,#90H
			ACALL DELAY
			 MOV P3,#80H
			ACALL DELAY
			 MOV P3,#0F8H
			ACALL DELAY
			 MOV P3,#82H
			ACALL DELAY
			 MOV P3,#92H
			ACALL DELAY
			 MOV P3,#99H
			ACALL DELAY
			 MOV P3,#0B0H
			ACALL DELAY
			 MOV P3,#0A4H
			ACALL DELAY
			 MOV P3,#0F9H
			ACALL DELAY
			  MOV P3,#40H
			LJMP MAIN 

DELAY: 
   FREQ:
		JB P0.1,DELAY2
		AJMP DELAY1
		
		 
DELAY1:  MOV R4,#10	
H3:     MOV R5,#20H
H2:     MOV R6,#0FFH
H1:     DJNZ R6,H1
        DJNZ R5,H2
        DJNZ R4,H3
        RET        
DELAY2:  MOV R4,#50	
H6:     MOV R5,#20H
H5:     MOV R6,#0FFH
H4:     DJNZ R6,H4
        DJNZ R5,H5
        DJNZ R4,H6
        RET 
END 